# Example terraform.tfvars (gitignored)
#
# This repo's Makefile passes variables via -var flags, so this file is optional
# for local use. It's mainly used by CI workflows that download tfvars from GCS.
#
# Copy to terraform.tfvars (gitignored) or store in GCS for CI:
#   gs://<YOUR_CONFIG_BUCKET>/gkp/<env>/terraform.tfvars

project_id         = "YOUR_PROJECT_ID"
region             = "us-central1"
env                = "dev"
service_name       = "gkp-dev"
artifact_repo_name = "gkp"
image_name         = "gkp"
image_tag          = "latest"

# Optional: protect Cloud Run + Cloud SQL from accidental destroy
# deletion_protection = true

# Keep services private and allow selected principals to invoke via browser/API auth.
# allow_unauthenticated = false
# private_invoker_members = [
#   "group:your-team@googlegroups.com",
# ]

# Optional: wire env vars from Secret Manager (latest version).
# secret_env = {
#   API_KEY = "gkp-dev-api-key"
# }
#
# Optional: override app env defaults for private/internal deployments.
# app_env_overrides = {
#   PUBLIC_DEMO_MODE = "0"
#   AUTH_MODE        = "api_key"
#   ALLOW_CONNECTORS = "1"
#   OTEL_ENABLED     = "1"
# }

# Optional: event-driven ingestion (GCS finalize -> Pub/Sub push -> /api/connectors/gcs/notify)
# enable_pubsub_push_ingest = true
# pubsub_push_bucket        = "my-ingest-bucket"
# pubsub_push_prefix        = "knowledge/"

# Optional: periodic ingestion (Cloud Scheduler -> /api/connectors/gcs/sync)
# enable_scheduler_sync      = true
# scheduler_sync_schedule    = "0 * * * *"
# scheduler_sync_time_zone   = "Etc/UTC"
# scheduler_sync_bucket      = "my-ingest-bucket"
# scheduler_sync_prefix      = "knowledge/"
# scheduler_sync_max_objects = 200
# scheduler_sync_dry_run     = false
# scheduler_sync_notes       = "scheduler"
# scheduler_sync_api_key     = "set-admin-api-key-when-auth-mode-api-key"

# Optional: demonstrate group-based IAM without Workspace/Cloud Identity.
# clients_observers_group_email              = "gkp-observers@googlegroups.com"
# enable_clients_observers_monitoring_viewer = true

# Cloud SQL (Postgres) persistence (baseline)
# enable_cloudsql       = false  # disable (cost/experimentation)
# cloudsql_tier         = "db-custom-1-3840"
# cloudsql_disk_size_gb = 20
# cloudsql_database     = "gkp"
# cloudsql_user         = "gkp_app"
